var e=(e,t,l)=>new Promise(((n,s)=>{var o=e=>{try{a(l.next(e))}catch(t){s(t)}},r=e=>{try{a(l.throw(e))}catch(t){s(t)}},a=e=>e.done?n(e.value):Promise.resolve(e.value).then(o,r);a((l=l.apply(e,t)).next())}));import{_ as t}from"./index-c69VUSyy.js";import{r as l,j as n}from"./ui-1cKScK2u.js";import"./vendor-CMmhtoO5.js";import"./utils-ZfQrkrhd.js";import"./themes-BQtSU6HY.js";import"./forms-Cyeo5z7C.js";import"./router-6mN7FZj7.js";const s=({isAdmin:s,saveContentToDrive:o,driveSaving:r,driveMessage:a,screenSize:i="desktop",content:c,loadLocalContent:d,loadContentFromDrive:m,loading:u,onClose:x})=>{const[h,g]=l.useState(!1);if(!s)return null;const b=(null==c?void 0:c.fallbackUsed)||!1;return"mobile"===i||"tablet"===i?null:n.jsxs("div",{className:"fixed top-8 right-8 z-50 bg-slate-800 text-white p-4 rounded-lg shadow-lg max-w-md",children:["function"==typeof x&&n.jsx("button",{onClick:x,className:"absolute top-2 right-2 text-gray-300 hover:text-red-500 text-2xl font-bold focus:outline-none focus:ring-2 focus:ring-red-400","aria-label":"Close Admin Panel",children:"×"}),n.jsx("h3",{className:"text-lg font-bold mb-2",children:"Admin Content Settings"}),a&&n.jsx("div",{className:"mb-4 p-3 rounded-md "+("error"===a.type?"bg-red-900":"success"===a.type?"bg-green-900":"bg-blue-900"),children:n.jsx("p",{className:"text-sm",children:a.text})}),n.jsxs("div",{className:"mb-4 p-3 bg-slate-700 rounded-md",children:[n.jsx("p",{className:"text-sm font-semibold mb-1",children:"📂 Content Source"}),n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsxs("p",{className:"text-xs",children:["Currently using: ",n.jsx("span",{className:"font-semibold "+(b?"text-yellow-300":"text-blue-300"),children:b?"Local Files":"Google Drive"})]}),u&&n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Loading content..."})]})})]}),n.jsxs("div",{className:"mb-4 flex gap-2 flex-col",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>e(null,null,(function*(){g(!0);try{if(b)yield d(!1);else try{const{clearContentCache:l}=yield t((()=>e(null,null,(function*(){const{clearContentCache:e}=yield import("./contentLoader-DWP3ynEk.js");return{clearContentCache:e}}))),[]);l(),yield m(!1)}catch(l){yield m(!1)}}catch(n){alert("Failed to refresh content: "+n.message)}finally{g(!1)}})),disabled:h||u,className:"flex-1 py-2 rounded-md text-white text-sm "+(h||u?"bg-gray-500 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"),children:h?"Refreshing...":"Refresh Content"}),n.jsx("button",{onClick:o,disabled:r||u,className:"flex-1 py-2 rounded-md text-white text-sm "+(r||u?"bg-gray-500 cursor-not-allowed":"bg-purple-600 hover:bg-purple-700"),children:r?"Saving...":"Save to Drive"})]}),"        ",n.jsx("button",{onClick:()=>e(null,null,(function*(){g(!0);try{if(b)try{const{clearContentCache:l}=yield t((()=>e(null,null,(function*(){const{clearContentCache:e}=yield import("./contentLoader-DWP3ynEk.js");return{clearContentCache:e}}))),[]);l(),yield m(!1)}catch(l){0,yield m(!1)}else yield d(!1)}catch(n){alert("Failed to switch content source: "+n.message)}finally{g(!1)}})),disabled:h||u,className:"w-full py-2 rounded-md text-white text-sm "+(h||u?"bg-gray-500 cursor-not-allowed":b?"bg-green-600 hover:bg-green-700":"bg-orange-600 hover:bg-orange-700"),children:h?"Switching...":b?"🌐 Load from Google Drive":"📁 Load from Local Files"})]})]})};export{s as default};
