var e=(e,t,l)=>new Promise(((n,s)=>{var o=e=>{try{a(l.next(e))}catch(t){s(t)}},r=e=>{try{a(l.throw(e))}catch(t){s(t)}},a=e=>e.done?n(e.value):Promise.resolve(e.value).then(o,r);a((l=l.apply(e,t)).next())}));import{_ as t}from"./index-Cn70RF0N.js";import{r as l,j as n}from"./ui-D0mobVGr.js";import"./vendor-CMmhtoO5.js";import"./utils-ZfQrkrhd.js";import"./themes-D6XQf4HP.js";import"./forms-Cq6ygc51.js";import"./router-CrKpXVLv.js";const s=({isAdmin:s,reloadFromDrive:o,saveContentToDrive:r,driveSaving:a,driveMessage:i,screenSize:c="desktop",content:d,loadLocalContent:m,loadContentFromDrive:u,loading:x,onClose:h})=>{const[g,b]=l.useState(!1);if(!s)return null;const f=(null==d?void 0:d.fallbackUsed)||!1;(null==d?void 0:d.driveAttempted)&&(null==d||d.fallbackUsed);return"mobile"===c||"tablet"===c?null:n.jsxs("div",{className:"fixed top-8 right-8 z-50 bg-slate-800 text-white p-4 rounded-lg shadow-lg max-w-md",children:["function"==typeof h&&n.jsx("button",{onClick:h,className:"absolute top-2 right-2 text-gray-300 hover:text-red-500 text-2xl font-bold focus:outline-none focus:ring-2 focus:ring-red-400","aria-label":"Close Admin Panel",children:"×"}),n.jsx("h3",{className:"text-lg font-bold mb-2",children:"Admin Content Settings"}),i&&n.jsx("div",{className:"mb-4 p-3 rounded-md "+("error"===i.type?"bg-red-900":"success"===i.type?"bg-green-900":"bg-blue-900"),children:n.jsx("p",{className:"text-sm",children:i.text})}),n.jsxs("div",{className:"mb-4 p-3 bg-slate-700 rounded-md",children:[n.jsx("p",{className:"text-sm font-semibold mb-1",children:"📂 Content Source"}),n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsxs("p",{className:"text-xs",children:["Currently using: ",n.jsx("span",{className:"font-semibold "+(f?"text-yellow-300":"text-blue-300"),children:f?"Local Files":"Google Drive"})]}),x&&n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Loading content..."})]})})]}),n.jsxs("div",{className:"mb-4 flex gap-2 flex-col",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>e(null,null,(function*(){b(!0);try{if(f)yield m(!1);else try{const{clearContentCache:l}=yield t((()=>e(null,null,(function*(){const{clearContentCache:e}=yield import("./contentLoader-cqDgaTtC.js");return{clearContentCache:e}}))),[]);l(),yield u(!1)}catch(l){yield u(!1)}}catch(n){alert("Failed to refresh content: "+n.message)}finally{b(!1)}})),disabled:g||x,className:"flex-1 py-2 rounded-md text-white text-sm "+(g||x?"bg-gray-500 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"),children:g?"Refreshing...":"Refresh Content"}),n.jsx("button",{onClick:r,disabled:a||x,className:"flex-1 py-2 rounded-md text-white text-sm "+(a||x?"bg-gray-500 cursor-not-allowed":"bg-purple-600 hover:bg-purple-700"),children:a?"Saving...":"Save to Drive"})]}),"        ",n.jsx("button",{onClick:()=>e(null,null,(function*(){b(!0);try{if(f)try{const{clearContentCache:l}=yield t((()=>e(null,null,(function*(){const{clearContentCache:e}=yield import("./contentLoader-cqDgaTtC.js");return{clearContentCache:e}}))),[]);l(),yield u(!1)}catch(l){0,yield u(!1)}else yield m(!1)}catch(n){alert("Failed to switch content source: "+n.message)}finally{b(!1)}})),disabled:g||x,className:"w-full py-2 rounded-md text-white text-sm "+(g||x?"bg-gray-500 cursor-not-allowed":f?"bg-green-600 hover:bg-green-700":"bg-orange-600 hover:bg-orange-700"),children:g?"Switching...":f?"🌐 Load from Google Drive":"📁 Load from Local Files"})]})]})};export{s as default};
